# üìß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Email Queue –Ω–∞ Hostinger

## üéØ –ü—Ä–æ–±–ª–µ–º–∞
–ù–∞ shared —Ö–æ—Å—Ç–∏–Ω–≥–µ Hostinger –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π `queue:work` –ø—Ä–æ—Ü–µ—Å—Å.

## ‚úÖ –†–µ—à–µ–Ω–∏—è (–æ—Ç –ª—É—á—à–µ–≥–æ –∫ –ø—Ä–æ—Å—Ç–µ–π—à–µ–º—É)

---

## ü•á –í–∞—Ä–∏–∞–Ω—Ç 1: Cron Job + Database Queue (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–∞–±–ª–∏—Ü—É jobs
SELECT * FROM jobs ORDER BY id DESC LIMIT 10;

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–µ—É–¥–∞—á–Ω—ã–µ –∑–∞–¥–∞—á–∏
php artisan queue:failed
```

---

## ü•à –í–∞—Ä–∏–∞–Ω—Ç 2: Sync Queue (–µ—Å–ª–∏ Cron –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç Cron
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ
- ‚ö†Ô∏è –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∂–¥—ë—Ç ~2-3 —Å–µ–∫—É–Ω–¥—ã

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞:

#### 1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ `.env`:
```env
QUEUE_CONNECTION=sync
```

#### 2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ:
```bash
php artisan config:clear
```

–ì–æ—Ç–æ–≤–æ! Email –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è —Å—Ä–∞–∑—É, –Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–≤–∏–¥–∏—Ç —É—Å–ø–µ—Ö —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏.

---

## ü•â –í–∞—Ä–∏–∞–Ω—Ç 3: –ì–∏–±—Ä–∏–¥–Ω—ã–π —Ä–µ–∂–∏–º (–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –∫–æ–º–ø—Ä–æ–º–∏—Å—Å)

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ–∫—É—â—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É –∫–æ–¥–∞ - –æ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç queue –µ—Å–ª–∏ `QUEUE_CONNECTION=database`
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –µ—Å–ª–∏ `QUEUE_CONNECTION=sync`
- **–ù–û** –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —É—Å–ø–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –î–û –æ—Ç–ø—Ä–∞–≤–∫–∏ email

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏:

#### 1. –í `.env`:
```env
QUEUE_CONNECTION=sync
MAIL_TIMEOUT=10
```

#### 2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `config/mail.php` (–µ—Å–ª–∏ –Ω–µ—Ç) –∏ –¥–æ–±–∞–≤—å—Ç–µ:
```php
'timeout' => env('MAIL_TIMEOUT', 10),
```

–≠—Ç–æ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è SMTP –¥–æ 10 —Å–µ–∫—É–Ω–¥.

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤

| –í–∞—Ä–∏–∞–Ω—Ç | –°–∫–æ—Ä–æ—Å—Ç—å –¥–ª—è —é–∑–µ—Ä–∞ | –ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å | –°–ª–æ–∂–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ |
|---------|-------------------|------------|---------------------|
| Cron + Queue | ‚ö° 0.2 —Å–µ–∫ | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | –°—Ä–µ–¥–Ω—è—è |
| Sync Queue | üêå 2-3 —Å–µ–∫ | ‚≠ê‚≠ê‚≠ê‚≠ê | –ü—Ä–æ—Å—Ç–∞—è |
| –ì–∏–±—Ä–∏–¥–Ω—ã–π | ‚ö° 0.3 —Å–µ–∫ | ‚≠ê‚≠ê‚≠ê‚≠ê | –ü—Ä–æ—Å—Ç–∞—è |

---

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

### Email –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
```bash
tail -f storage/logs/laravel.log
```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—á–µ—Ä–µ–¥—å:**
```bash
php artisan queue:monitor
```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ failed jobs:**
```bash
php artisan queue:failed
php artisan queue:retry all  # –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –≤—Å–µ –Ω–µ—É–¥–∞—á–Ω—ã–µ
```

### Cron –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Cron –≤ –ø–∞–Ω–µ–ª–∏ Hostinger
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –ø—É—Ç—å –∫ –ø—Ä–æ–µ–∫—Ç—É –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º

### –ú–µ–¥–ª–µ–Ω–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞:

1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –í–∞—Ä–∏–∞–Ω—Ç 1 (Cron + Queue)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SMTP –≤ `.env`
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ `MAIL_PORT=587` –∏ `MAIL_ENCRYPTION=tls`

---

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –¥–ª—è –≤–∞—à–µ–≥–æ —Å–∞–π—Ç–∞

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –í–∞—Ä–∏–∞–Ω—Ç 1 (Cron + Database Queue)**

–≠—Ç–æ –¥–∞—Å—Ç –≤–∞–º:
- –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –æ—Ç–∫–ª–∏–∫ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ù–∞–¥—ë–∂–Ω—É—é –¥–æ—Å—Ç–∞–≤–∫—É email
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–≤—Ç–æ—Ä—ã –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

---

## üìù –¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–í–∞—à –∫–æ–¥ —É–∂–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω:
- ‚úÖ –§–æ—Ä–º–∞ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É
- ‚úÖ –£—Å–ø–µ—Ö –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ
- ‚úÖ Email –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ (–≤ queue –∏–ª–∏ sync)
- ‚úÖ –û—à–∏–±–∫–∏ –Ω–µ –ª–æ–º–∞—é—Ç UX

–ü—Ä–æ—Å—Ç–æ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ `.env` –∏ Cron - –≤—Å—ë –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –æ—Ç–ª–∏—á–Ω–æ!
