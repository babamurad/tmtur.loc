Деньги
Каким образом вы зарабатываете? Продажа туров, комиссии, реклама, подписки?
Какие деньги приходят вперёд (предоплата), а какие после (доплата на месте)?
Какие схемы возвратов и чарджбеков реальны?
Продукт
«Тур» — это набор услуг (перелёт + отель + экскурсии) или цельная путёвка?
Что происходит, когда один элемент тура исчезает (отель сгорел, рейс отменили)?
Какие вещи (услуги) можно докупать, а какие нельзя?
Участники
Кто может создавать/редактировать туры: только админы, локальные гиды, поставщики услуг?
Есть ли B2B-канал (продажа через агентства), и если да, то какие цены и комиссии им видны?
Временные и географические измерения
Как вы храните «дату начала тура» и «дату окончания» с учётом часовых поясов?
Как отслеживаются сезонные цены (скидка на ноябрь, плюс 30 % на новогодние даты)?
Персонализация и маркетинг
Какие данные о клиенте нужны, чтобы предлагать «похожие туры»?
Где хранится история кликов, корзин, выкинутых платежей?
Какие рекламные кампании должны быть привязаны к бронированию?
Масштаб и производительность
Сколько параллельных бронирований в пике (например, в 12:00 по МСК в день распродаж)?
Какие отчёты нужны «вчера» (день-в-долг), а какие можно кешировать на час?

Законодательство
Где юридически находится компания?
Нужно ли хранить персональные данные пользователей?
Есть ли GDPR-клиенты, и если да, то какие права на «забыть меня»?
Если мы пропустим хотя бы один из этих вопросов, самая лучшая схема БД через полгода превратится в грабли.
Поэтому:
Бросаю тебе вызов:
Представь, что завтра к вам приходит Booking.com и говорит «мы хотим приобрести 30 % ваших туров и продавать их у себя».
Какие три вещи в вашей текущей модели данных придётся переписать с нуля?

Каким образом вы зарабатываете? Продажа туров, комиссии
Какие деньги приходят вперёд (предоплата), а какие после (доплата на месте)? нет предоплаты, оплата на месте
«Тур» — это набор услуг (виза+оформление документов+перелёт + отель + экскурсии)
Какие схемы возвратов и чарджбеков реальны? оплата на месте наличкой
Какие вещи можно докупать «à-la-carte», а какие нельзя? я не могу ответить на этот вопрос, подумаем вместе над этим
Кто может создавать/редактировать туры: пока только админы
Есть ли B2B-канал (продажа через агентства), и если да, то какие цены и комиссии им видны? Нет пока
Как вы храните «дату начала тура» и «дату окончания» с учётом часовых поясов? по времени Туркменистана
Как отслеживаются сезонные цены (скидка на ноябрь, плюс 30 % на новогодние даты)? Не знаю, посоветуемся с тобой и решим. Ты лучше меня придумаешь решение.
Какие данные о клиенте нужны, чтобы предлагать «похожие туры»? тоже на тебе, я не знаю
Где хранится история кликов, корзин, выкинутых платежей? тоже на тебе, я не знаю
Какие рекламные кампании должны быть привязаны к бронированию? таких компаний нет, по крайней мере пока
Сколько параллельных бронирований в пике (например, в 12:00 по МСК в день распродаж)? Клиент пишет с сайта, через форму на сайте, оператор получает письмо и дальше сам общается и объясняет клиенту все и отвечает на вопросы.
Какие отчёты нужны «вчера» (день-в-долг), а какие можно кешировать на час? Тоже на тебе
Где юридически находится компания? в Туркменистане, это ИП
Нужно ли хранить персональные данные россиян на территории РФ? Компания нацелена преимущественно на европейцев, именно они чаще всего посещают Туркменистан. Так же хотим выйти на Китай и Индию, там людей больше
Есть ли GDPR-клиенты, и если да, то какие права на «забыть меня»? В этом не понимаю, думаю проблем с этим не должно быть.
Представь, что завтра к вам приходит Booking.com и говорит «мы хотим приобрести 30 % ваших туров и продавать их у себя». Какие три вещи в вашей текущей модели данных придётся переписать с нуля? Таких вопросов может быть куча, всякое может случится. Нельзя все предусмотреть

Бизнес-модель и продажи

Продаёте только B2C или также B2B (партнёрам/агентам с комиссией)?

Индивидуальные туры (tailor-made) важнее или фокус на фиксированных пакетах/датах выездов?

Принимаете онлайн-оплату (карты/Stripe/PayPal) или только инвойс/банковский перевод/нал/на месте? Нужны частичные платежи/депозиты?

Цены: в USD как на примерах или нужна мультивалюта/мультиязычность (ru/en/tr/de/…)? Нужен VAT/налоги/сборы?
darvazatour.com

Продукт/тур

Типы туров: групповые (с датами), приватные, дневные экскурсии, комбинированные (Узбекистан+Туркменистан)?

Правила ценообразования: по количеству человек (price breaks), single supplement, детские тарифа, сезонность, надбавки (высокий сезон/праздники), опции/доплаты (юрта, 4×4, гид-язык)?

Нужен «инвентарь»: квоты мест у отелей/авто/гидов на даты? Или доступность считается «по запросу»?

Заявки/бронирования и визы

Воронка: лид → запрос → предложение/калькуляция → бронь → инвойс → платежи → договор/ваучер → поездка → отзыв. Всё это нужно в системе?

Визовая поддержка (LOI): какие поля/документы собираем (паспорт/сканы/маршрут/контакты), статусы и сроки? Нужно хранить файлы и журналы действий?

Нужны шаблоны документов (оферта, договор, инвойс, ваучер, маршрут PDF) с генерацией на лету?

Контент и маркетинг

Страницы-направления/достопримечательности (Мерв, Янгикала, Нохур и т.д.), блог, FAQ, отзывы, галереи — всё это будет? Требуется SEO (мультиязычные URL/слуги, мета, каноникал)?
darvazatour.com
tmtourism.com

Нужны «Даты групповых туров» с таблицей/фильтрами и динамическими ценами (как у примера)?
darvazatour.com

Операции и интеграции

Роли: админ, менеджер продаж, контент-редактор, гид/поставщик, агент B2B, клиент? Нужны права на уровне полей/объектов?

Интеграции: e-mail (SMTP), WhatsApp/Telegram, карты, платёжный шлюз, экспорты в бухгалтерию?

Аудит и логи: нужно хранить историю изменений (кто/что/когда), напоминания и задачи по лидам/бронированиям?

Право и политика

Политики отмен/возвратов на уровне тура/даты? Требуются автоматические штрафы по срокам?

Хранение персональных данных (паспортные данные для LOI): требования по безопасности/шифрованию/срокам хранения?

github token
cd /home/u960938720/tmtourism.com
git pull
chmod -R 755 storage bootstrap/cache
php artisan cache:clear
php artisan config:clear
php artisan view:clear
php artisan route:clear


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


php artisan make:filament-resource Tour --generate
php artisan make:filament-resource Service --generate
php artisan make:filament-resource TourGroup --generate
php artisan make:filament-resource Customer --generate
php artisan make:filament-resource Booking --generate
php artisan make:filament-resource Payment --generate
php artisan make:filament-resource Review --generate
php artisan make:filament-resource Inquiry --generate   # только View

Элемент	Статус (Похоже, есть)	Рекомендация
Главные достопримечательности	✅	Нет нареканий.
Отзывы	✅	Хорошо, но убедитесь, что они легко обновляются.
Гиды	✅	Отлично, повышает доверие.
Контактная информация	✅	Добавьте юридический адрес или регистрационные данные (для серьезного бизнеса).
Информация о Визе	❌ ✔️ 	Обязательно добавьте отдельный раздел или блок.
Страница "О нас"	❌ ✔️	Рекомендуется создать.
Цены и пакеты туров	⚠️ ✔️	Сделайте их более конкретными и заметными.
Мобильная адаптивность	❓	Убедитесь, что сайт идеально работает на смартфонах (большинство туристов ищут туры с телефона).


Guides
Routes
Culture Items
Contact Infos

Что посмотреть в Ашхабаде
Плато динозавров
Древний Мерв
Газовый кратер «Врата ада»
Пустыня Каракумы
Парфянские крепости Нисы
Каньон Янги-Кала
Караван-сарай «Даяхатын»
Дехистан
Куня-Ургенч

https://blog.ostrovok.ru/top-10-dostoprimechatelnostej-turkmenistana/

Doloremque accusamus
quzu@mailinator.com

Livewire-3 возвращает из методов не Illuminate\Http\RedirectResponse,
а Illuminate\Http\RedirectResponse|Livewire\Features\SupportRedirects\Redirector.
Вы же в type-hint указали только первый вариант.

Сделать icon и btn_class nullable enums (Laravel 11) → исключить опечатки.
Добавить unique: social_links,name в правила, чтобы не дублировать «Facebook».
Добавить wire:loading + wire:target="store" – блокировать кнопку «Save» на время запроса.
Сделать sort_order drag-&-drop (Livewire + SortableJS) – заказчик любит «таскать» строки.
Вынести табы в отдельный Blade-компонент – не дублировать {{ $activeTab === '...' ? 'active' : '' }}.

Карусль проблема
Guides
Tours - drop down 1. Categories 2. See all

{{-- Quill Editors --}}
<div class="col-md-12 mt-4">
    <h5>Краткое описание (Мультиязычность)</h5>
    <hr>
</div>

@foreach(config('app.available_locales') as $locale)
    <div class="col-md-12 mb-4">
        <div class="form-group" wire:ignore>
            <label>
                Краткое описание ({{ strtoupper($locale) }})
                @if($locale === config('app.fallback_locale')) <span class="text-info">[Основной]</span> @endif
            </label>
            <div id="quill-editor-{{ $locale }}" style="height: 200px; background: #fff;"></div>
        </div>
        @error("trans.$locale.short_description")
        <span class="text-danger">{{ $message }}</span>
        @enderror
    </div>
@endforeach

<script>

        console.log('--- Скрипт в шаблоне загружен ---');

        (function() {
            // Функция инициализации
            function initApp() {
                console.log('Запуск инициализации плагинов...');

                // --- SELECT2 ---
                if (typeof jQuery !== 'undefined' && jQuery.fn.select2) {
                    console.log('Select2: Инициализация...');

                    let $select = jQuery('#category_ids_select2');

                    // Применяем select2
                    $select.select2({
                        placeholder: "Выберите категории",
                        width: '100%'
                    });

                    // Следим за изменениями
                    $select.on('change', function (e) {
                        let data = jQuery(this).val();
                        console.log('Select2 изменился:', data);
                        // Пытаемся найти Livewire компонент
                        let component = Livewire.find(document.getElementById('category_ids_select2').closest('[wire\\:id]').getAttribute('wire:id'));
                        if(component) {
                            component.set('category_id', data);
                        } else {
                            // Fallback для старых версий
                        @this.set('category_id', data);
                        }
                    });
                } else {
                    console.error('Select2 или jQuery не найдены!');
                }

                // --- QUILL ---
                if (typeof Quill !== 'undefined') {
                    console.log('Quill: Инициализация...');

                    const locales = @json(config('app.available_locales'));
                    const existingTrans = @json($trans);

                    locales.forEach(locale => {
                        let id = '#quill-editor-' + locale;
                        let element = document.querySelector(id);

                        // Проверяем, не инициализирован ли он уже (чтобы не дублировать панели)
                        if (element && !element.querySelector('.ql-editor')) {
                            let editor = new Quill(id, {
                                theme: 'snow',
                                modules: {
                                    toolbar: [
                                        ['bold', 'italic', 'underline'],
                                        [{ 'list': 'ordered'}, { 'list': 'bullet' }],
                                        ['clean']
                                    ]
                                }
                            });

                            // Заполняем контент
                            if (existingTrans && existingTrans[locale] && existingTrans[locale]['short_description']) {
                                editor.clipboard.dangerouslyPasteHTML(existingTrans[locale]['short_description']);
                            }

                            // Слушаем изменения
                            editor.on('text-change', function () {
                                let html = editor.root.innerHTML;
                                // Используем @this.set (должен работать внутри Blade)
                            @this.set('trans.' + locale + '.short_description', html);
                            });
                        }
                    });
                } else {
                    console.error('Quill не найден!');
                }
            }

            // ============================================================
            // ГЛАВНЫЙ ЗАПУСКАТЕЛЬ (Работает для Livewire v2 и v3)
            // ============================================================

            // Попытка 1: Стандартная загрузка страницы
            document.addEventListener('DOMContentLoaded', initApp);

            // Попытка 2: Livewire v3 (современный)
            document.addEventListener('livewire:initialized', initApp);
            document.addEventListener('livewire:navigated', initApp);

            // Попытка 3: Livewire v2 (старый)
            document.addEventListener('livewire:load', initApp);

            // Попытка 4: "Грубая сила" (если события не сработали)
            setTimeout(initApp, 1000);
            setTimeout(initApp, 3000); // Контрольный выстрел через 3 сек
        })();
    </script>

проверить всю страницу category-index.blade.php целиком и оптимизировать 
(например lazy-loading картинок, правильная верстка sidebar, адаптивность карточек).

cd /home/u960938720/domains/tmtourism.com && php artisan queue:work --stop-when-empty --tries=3 --timeout=50
cd /home/u960938720/domains/tmtourism.com && php artisan queue:work --stop-when-empty --tries=3 --timeout=50  

cd /home/u960938720/tmtourism.com && { echo "Cron выполнен: $(date '+%Y-%m-%d %H:%M:%S')" 1>&2; php artisan queue:work --stop-when-empty --tries=3 --timeout=50 1>&2; }

cd /home/u960938720/tmtourism.com && \
echo "Cron выполнен: $(date '+%Y-%m-%d %H:%M:%S')" >> /home/u960938720/cron-debug.log && \
/usr/local/bin/php /home/u960938720/tmtourism.com/artisan queue:work --stop-when-empty --tries=3 --timeout=50 >> /home/u960938720/queue.log 2>&1

cd /home/u960938720/tmtourism.com && /home/u960938720/domains/tmtourism.com/queue-worker.sh
