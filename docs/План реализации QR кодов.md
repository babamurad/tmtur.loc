# Генерация QR-кодов для реферальных ссылок

## Цель
Позволить пользователям генерировать и просматривать QR-коды для созданных реферальных ссылок в админ-панели, а также скачивать их.

## Требуется проверка пользователем
> [!IMPORTANT]
> Этот план требует установки нового пакета composer: `simplesoftwareio/simple-qrcode`.

## Предлагаемые изменения

### Зависимости
#### [НОВОЕ] `simplesoftwareio/simple-qrcode`
- Установить через composer для обработки генерации QR-кодов.

### Бэкенд
#### [ИЗМЕНИТЬ] [LinkGeneratorComponent.php](file:///c:/OSPanel/domains/tmtur.loc/app/Livewire/Admin/LinkGeneratorComponent.php)
- Добавить состояние для отслеживания выбранной ссылки для генерации QR (`$qrCodeLink`).
- Добавить метод `openQrCodeModal($id)`, чтобы установить выбранную ссылку и открыть модальное окно.
- Обеспечить правильный импорт фасада `SimpleSoftwareIO\QrCode\Facades\QrCode`.

### Фронтенд
#### [ИЗМЕНИТЬ] [link-generator-component.blade.php](file:///c:/OSPanel/domains/tmtur.loc/resources/views/livewire/admin/link-generator-component.blade.php)
- Добавить кнопку "QR" в столбец действий для каждой ссылки.
- Добавить модальное окно Bootstrap (`#qrCodeModal`) для отображения сгенерированного QR-кода.
- Использовать фасад `QrCode` для рендеринга QR-кода (в формате SVG) внутри модального окна.
- **[НОВОЕ] Добавить кнопки "Скачать PNG" и "Скачать SVG".**
    - Реализовать JavaScript функцию `downloadQrCode(format)` для обработки скачивания.
    - Для SVG: Создать Blob из содержимого SVG и инициировать скачивание.
    - Для PNG: Отрендерить SVG на Canvas и скачать как Data URL (конвертация на стороне клиента, чтобы избежать зависимостей от ImageMagick на сервере).

## План проверки
### Автоматизированные тесты
- Не планируются для этой визуальной функции.

### Ручная проверка
1.  Перейти на страницу "Генератор ссылок".
2.  Нажать кнопку "QR" на существующей ссылке.
3.  Убедиться, что модальное окно открывается и отображает корректный QR-код.
4.  Нажать "Скачать PNG".
5.  Убедиться, что скачивается файл `.png` и это корректное изображение QR-кода.
6.  Отсканировать скачанное изображение, чтобы убедиться, что оно работает.
