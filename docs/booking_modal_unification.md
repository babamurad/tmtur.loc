# Унификация модального окна бронирования

## Обзор задачи
Цель: Привести модальное окно бронирования на странице деталей тура (`ToursShow`) в соответствие с дизайном и функциональностью модального окна на странице списка групп (`TourGroupsIndex`).

## Внесенные изменения

### 1. Логика (Backend)
**Файл:** `app/Livewire/Front/ToursShow.php`

- Добавлено свойство `$showBookingModal` для управления видимостью окна.
- Добавлены свойства формы:
    - `$booking_name`
    - `$booking_email`
    - `$booking_phone`
    - `$booking_guests`
    - `$booking_message`
    - `$gdpr_consent`
- Добавлен метод `openBookingModal($groupId)`: открывает окно, устанавливает выбранную группу и предзаполняет количество гостей.
- Добавлен метод `closeBookingModal()`: закрывает окно и сбрасывает форму.
- Реализован метод `submitBooking()`: 
    - Валидирует данные формы.
    - Проверяет наличие свободных мест.
    - Создает запись в `ContactMessage`.
    - Создает/обновляет `Customer`.
    - Создает `Booking` (статус 'pending').
    - Отправляет уведомление администратору.

### 2. Представление (Frontend)
**Файл:** `resources/views/livewire/front/tours-show.blade.php`

- Удалено старое модальное окно `#exampleModal` (простая контактная форма).
- Удален скрипт, управляющий старым модальным окном через события `open-modal`/`close-modal`.
- Добавлено новое модальное окно (код адаптирован из `tour-groups-index.blade.php`):
    - Использует стилизацию `tm-modal`.
    - Отображает детали выбранной группы (дата, занятость).
    - Содержит поля ввода (Имя, Email, Телефон, Гости, Сообщение, GDPR).
    - Управляется директивой `@if($showBookingModal)`.
- Обновлена кнопка "Забронировать" в списке групп:
    - Вызывает `openBookingModal` вместо устаревшего `openBookModal`.

## Как проверить
1. Открыть страницу тура.
2. В секции "Доступные даты отправления" нажать "Забронировать" (Book Now).
3. Должно открыться модальное окно с темным фоном и заголовком "Бронирование".
4. Заполнить форму и отправить.
5. Проверить сообщение об успехе и создание заявки в админ-панели.
